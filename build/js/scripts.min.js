!function(n){n(function(){let o="";n("#new-quote-button").on("click",function(t){t.preventDefault(),o=document.URL,n.ajax({method:"get",url:api_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){const t=o[0],e=t.title.rendered,s=t.excerpt.rendered,a=t._qod_quote_source,l=t._qod_quote_source_url;console.log(t),console.log(l),console.log(a),history.pushState(null,null,t.slug),a&&l?n(".post").html(`<div class="entry-content">\n                    <p>${s}</p>\n                <div class="entry-meta">\n                <h2>${e}</h2>\n                </div>\n                <span class="source">\n                <a href="${l}">${a}   \n                  </a>\n                  </span>\n              </div>`):a?n(".post").html(`<div class="entry-content">\n                    <p>${s}</p>\n                <div class="entry-meta">\n                <h2>${e}</h2>\n                </div>\n                <span class="source">\n                ${a}</span>\n              </div>`):n(".post").html(`<div class="entry-content">\n                    <p>${s}</p>\n                <div class="entry-meta">\n                <h2>${e}</h2>\n                </div>\n                <span class="source">\n                </span>\n              </div>`)}).fail(function(){alert("Oops! something went wrong")}),n(window).on("popstate",function(){window.location.replace(o)})}),n("#quote-submisison-form").on("submit",function(o){console.log("post quote"),o.preventDefault(),console.log("form submitted");const t=n("#quote-author").val(),e=n("#quote-content").val();""!==t?s():""!==e&&s();function s(){n.ajax({method:"post",url:api_vars.rest_url+"wp/v2/posts",data:{title:"The most amazing quote by Gordon Ramsey".val(),content:"The most amazing quote by Gordon Ramsey",status:"pending"},beforeSend:function(n){n.setRequestHeader("X-WP-Nonce",api_vars.wpapi_nonce)}}).done(function(){console.log("great success"),n("#quote-submission-form").slideup(300)}).fail(function(){console.log("not so great "),alert("not so great!")})}})})}(jQuery);